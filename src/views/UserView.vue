<template>
  <div>
    <h2>ğŸ‘¤ ì‚¬ìš©ì í™”ë©´</h2>
    <button @click="connect">ì—°ê²°</button>
    <button @click="disconnect">ì—°ê²° ì¢…ë£Œ</button>
    <button @click="sendPing">í•‘ í…ŒìŠ¤íŠ¸</button>
    <button @click="sendState({ currentLocation: '/send', highlightedArea: 'amount' , userName: 'jsy1021'})">
      ìƒíƒœ ì „ì†¡
    </button>

    <p>ğŸ“¬ ë§ˆì§€ë§‰ ë©”ì‹œì§€: {{ lastMessage }}</p>
    <p>ğŸŸ¦ ë³´í˜¸ì ë©”ì‹œì§€: {{ guardianMessage }}</p> <!-- âœ… ë©”ì‹œì§€ í‘œì‹œ -->
  </div>
</template>

<script setup>
import { onMounted } from 'vue';
import { useWebSocketUser } from '@/utils/useWebSocketUser';

const {
  connect,
  disconnect,
  sendPing,
  sendState,
  lastMessage,
  guardianMessage,
} = useWebSocketUser("123456");

onMounted(() => {
  connect();
});
</script>
